@model IEnumerable<AlexMichaelProject.Models.product>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Products Page</title>
</head>
<body>


    @if ((String)Session["power"] == "admin")
    {
        <p class="btn btn-primary btn-success" style="background-color:lightgreen;">
            @Html.ActionLink("Create New", "Create")
        </p>
    }
    <br />

    @*@using (Html.BeginForm())*@
    @using (Ajax.BeginForm(new AjaxOptions() { HttpMethod = "POST", UpdateTargetId = "search", InsertionMode = InsertionMode.Replace }))
    {
        <div>
            @Html.TextBox("clubName")
            <input type="submit" name="name" value="Search" class="btn btn-info" />
        </div>
    }
    <br />

    <div id="search">
        <table class="table">
            <tr>
                <th>
                    Product Code
                </th>
                <th>
                    Manufacturer
                </th>
                <th>
                    Club
                </th>
                <th>
                    Type
                </th>
                <th>
                    Price
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.size)
                </th>
                <th>
                    Description
                </th>
                <th>
                    Photo
                </th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.product1)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.manufacturer)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.clubName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.type)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.cost)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.size)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.description)
                    </td>
                    <td>

                        <img src=@Html.DisplayFor(modelItem => item.photo) style="width:40px;height:40px;" />
                    </td>
                    <td>
                        @if ((String)Session["power"] == "user")
                    {

                <p class="btn btn-primary btn-md" style="margin-right:5px;background-color:aquamarine;">
                    @Html.ActionLink("Add To Cart", "AddToCart", new { id = item.product1 })
                </p>
                    }
                        <p class="btn btn-primary btn-md" style="margin-right:5px;background-color:grey;">
                            @Html.ActionLink("Details", "Details", new { id = item.product1 })
                        </p>
                        @if ((String)Session["power"] == "admin")
                    {
                <p class="btn btn-primary btn-md" style="margin-right:5px;background-color:yellow;">
                    @Html.ActionLink("Edit", "Edit", new { id = item.product1 })
                </p>

                <p class="btn btn-primary btn-md" style="margin-right:5px; background-color:black;">

                    @Html.ActionLink("Delete", "Delete", new { id = item.product1 })
                </p>
                    }
                    </td>

                </tr>
        }

        </table>
    </div>
</body>
</html>
